using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Media;

namespace FakeMalware._0
{
    public partial class MatrixScreen : Form
    {
        Random Rand = new Random();
        int phase = 0;
        public MatrixScreen()
        {
            InitializeComponent();
        }

        private void PictureInScreen_Load(object sender, EventArgs e)
        {
            Cursor.Hide();
            ChatBox.Text = "";
        }

        private void StartTimer_Tick(object sender, EventArgs e)
        {

            StartTimer.Stop();
            StartTimer.Interval = Rand.Next(2, 7) * 1000;

            if (phase == 6)
            {
                Cursor.Show();
                StartTimer.Stop();
                this.Close();
            }
            if (phase == 5)
            {
                if (ChooseBox.Text == "yes" || ChooseBox.Text == "Yes" || ChooseBox.Text == "y" || ChooseBox.Text == "Yea" || ChooseBox.Text == "yea")
                    ChatBox.Text += Environment.NewLine + "Neo> Ok i will say it, but not now, they are watching us " + Settings1.Default.MatrixName + "!";
                if (ChooseBox.Text == "no" || ChooseBox.Text == "No" || ChooseBox.Text == "n" || ChooseBox.Text == "nope" || ChooseBox.Text == "Nope")
                    ChatBox.Text += Environment.NewLine + "Neo> Ok it is your decision";
                StartTimer.Interval = 5000;
            }

            if (phase == 0)
            ChatBox.Text = "Neo> hello";
            if (phase == 1)
                ChatBox.Text += Environment.NewLine + "Neo> hi my friend " + Settings1.Default.MatrixName;
            if (phase == 2)
                ChatBox.Text += Environment.NewLine + "Neo> Do you want know, what is matrix?";
            if (phase == 3)
                ChatBox.Text += Environment.NewLine + "Neo> Answer me just yes or no";
            if (phase == 4)
            {
                ChatBox.Text += Environment.NewLine + " ";
                ChooseLabel.Text = Settings1.Default.MatrixName + "> ";
                ChooseLabel.Visible = true;
                ChooseBox.Left = ChooseLabel.Left + ChooseLabel.Width;
                ChooseBox.Visible = true;
                ChooseBox.Focus();
            }
            else
            {
                phase++;
                StartTimer.Start();
            }
        }

        private void ChooseBox_KeyDown(object sender, KeyEventArgs e)
        {
            switch (e.KeyCode)
            {
                case Keys.Enter:
                    if (phase <= 4)
                    {
                        ChooseBox.ReadOnly = true;
                        phase = 5;
                        StartTimer.Interval = 2000;
                        StartTimer.Start();
                    }
                    break;
            }
        }
    }
}
