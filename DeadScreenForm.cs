using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Runtime.InteropServices;

namespace FakeMalware._0
{
    public partial class DeadScreenForm : Form
    {
        bool FormClose = false;
        Random Rand = new Random();
        public DeadScreenForm()
        {
            InitializeComponent();
        }

        private void DeadScreenForm_FormClosing(object sender, FormClosingEventArgs e)
        {
            e.Cancel = (FormClose == false);
        }


        private void EndTime_Tick(object sender, EventArgs e)
        {
            UpdateTimer.Stop();
            FormClose = true;
            EndTime.Stop();
            this.Close();
        }

        private void RestartScreenForm_Load(object sender, EventArgs e)
        {
            {
                if (Settings1.Default.DeadMode == "Windows 10" || Settings1.Default.DeadMode == "")
                {
                    this.BackColor = Color.FromArgb(0, 120, 215);
                    ErrorPanel1.Top = 200;
                    ErrorPanel1.Left = 300;
                    UpdateTimer.Start();
                }
                if (Settings1.Default.DeadMode == "Windows 7")
                {
                    this.BackColor = Color.MediumBlue;
                    ErrorPanel2.Visible = true;
                    ErrorPanel1.Visible = false;
                }
                if (Settings1.Default.DeadMode == "Windows xp")
                {
                    this.BackColor = Color.Navy;
                    ErrorPanel3.Visible = true;
                    ErrorPanel2.Visible = false;
                    ErrorPanel1.Visible = false;
                }

            }
        }
        int Complete = 0;
        private void UpdateTimer_Tick(object sender, EventArgs e)
        {
            UpdateTimer.Interval = Rand.Next(1000, 5000);
            Complete++;
            CompleteBox.Text = " " + Complete + "% complete";
        }
    }
}
